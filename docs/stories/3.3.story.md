# Story 3.3: Add Theme Integration and Polish

## Status
Approved

## Story
**As a** user,  
**I want** popups to integrate with VS Code themes while maintaining a distinct AI style, with options for future custom themes,  
**so that** the UI feels cohesive yet noticeable.

## Acceptance Criteria
1: Syncs popup style with VS Code themes without clashes.  
2: Applies modern minimalistic AI look as specified.  
3: Prepares hooks for future theme selection (not implemented in MVP).  
4: Visual testing across OSes and themes.

## Tasks / Subtasks
- [ ] Sync with VS Code themes (AC: 1) [Source: architecture/frontend-architecture.md#component-architecture]  
  - [ ] Use VS Code theme APIs or CSS vars in popup.html  
- [ ] Apply AI style (AC: 2)  
  - [ ] Implement minimalistic design in CSS  
- [ ] Add theme hooks (AC: 3)  
  - [ ] Prepare config for future themes  
- [ ] Visual testing (AC: 4) Use Playwright for screenshot comparisons across themes. [Source: architecture/testing-strategy.md#frontend-tests]  
  - [ ] Manual tests across setups  

## Dev Notes
- **Previous Story Insights**: Build on popup rendering.  
- **Data Models**: Use themePreference in ExtensionConfig. [Source: architecture/data-models.md#extensionconfig]  
- **API Specifications**: N/A.  
- **Component Specifications**: Update PopupWebview for theming. [Source: architecture/frontend-architecture.md]  
- **File Locations**: views/popup.html, components/PopupWebview.ts. [Source: architecture/unified-project-structure.md]  
- **Testing Requirements**: Visual/manual tests.  
- **Technical Constraints**: Custom CSS integrating with VS Code. [Source: architecture/tech-stack.md#css-framework]  

**Project Structure Notes**: No conflicts.

### Testing
- Test file location: tests/integration/.  
- Test standards: Visual.  
- Frameworks: Playwright for screenshots.  
- Specific: Theme sync, no clashes.

## Change Log
| Date | Version | Description | Author |  
|------|---------|-------------|--------|  

## Dev Agent Record
### Agent Model Used  

### Debug Log References  

### Completion Notes List  

### File List  

## QA Results
